(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const $r=!1;var Rn=Array.isArray,Nt=Array.from,Hr=Object.defineProperty,rn=Object.getOwnPropertyDescriptor,Cn=Object.getOwnPropertyDescriptors,gt=Object.getPrototypeOf;const pe=()=>{};function Wr(t){return t()}function mt(t){for(var e=0;e<t.length;e++)t[e]()}const z=2,Nn=4,Le=8,Bt=16,H=32,nt=64,se=128,je=256,L=512,Q=1024,De=2048,U=4096,Pe=8192,Kr=16384,Lt=32768,Yr=65536,zr=1<<18,Bn=1<<19,Qe=Symbol("$state");function Ln(t){return t===this.v}function Dn(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function Jr(t){return!Dn(t,this.v)}function Xr(t){throw new Error("effect_in_teardown")}function jr(){throw new Error("effect_in_unowned_derived")}function Qr(t){throw new Error("effect_orphan")}function Gr(){throw new Error("effect_update_depth_exceeded")}function Zr(){throw new Error("state_unsafe_local_read")}function es(){throw new Error("state_unsafe_mutation")}let qe=!1;function ts(){qe=!0}function Ge(t){return{f:0,v:t,reactions:null,equals:Ln,version:0}}function Pn(t,e=!1){var r;const n=Ge(t);return e||(n.equals=Jr),qe&&w!==null&&w.l!==null&&((r=w.l).s??(r.s=[])).push(n),n}function sn(t,e){return qn(t,Me(()=>b(t))),e}function qn(t,e){return y!==null&&it()&&y.f&(z|Bt)&&(re===null||!re.includes(t))&&es(),In(t,e)}function In(t,e){return t.equals(e)||(t.v=e,t.version=tr(),Mn(t,Q),it()&&g!==null&&g.f&L&&!(g.f&H)&&(R!==null&&R.includes(t)?(W(g,Q),at(g)):X===null?ys([t]):X.push(t))),e}function Mn(t,e){var n=t.reactions;if(n!==null)for(var r=it(),s=n.length,i=0;i<s;i++){var o=n[i],a=o.f;a&Q||!r&&o===g||(W(o,e),a&(L|se)&&(a&z?Mn(o,De):at(o)))}}const ns=1,rs=2,ss=16,is=1,os=2;let as=!1;function on(t){return t!==null&&typeof t=="object"&&Qe in t?t[Qe]:t}function us(t,e){return Object.is(on(t),on(e))}var an,Fn,Un;function cs(){if(an===void 0){an=window;var t=Element.prototype,e=Node.prototype;Fn=rn(e,"firstChild").get,Un=rn(e,"nextSibling").get,t.__click=void 0,t.__className="",t.__attributes=null,t.__styles=null,t.__e=void 0,Text.prototype.__t=void 0}}function Vn(t=""){return document.createTextNode(t)}function Ze(t){return Fn.call(t)}function rt(t){return Un.call(t)}function m(t,e){return Ze(t)}function dt(t,e){{var n=Ze(t);return n instanceof Comment&&n.data===""?rt(n):n}}function T(t,e=1,n=!1){let r=t;for(;e--;)r=rt(r);return r}function ls(t){t.textContent=""}function fs(t){var e=z|Q;g===null?e|=se:g.f|=Bn;const n={children:null,ctx:w,deps:null,equals:Ln,f:e,fn:t,reactions:null,v:null,version:0,parent:g};if(y!==null&&y.f&z){var r=y;(r.children??(r.children=[])).push(n)}return n}function $n(t){var e=t.children;if(e!==null){t.children=null;for(var n=0;n<e.length;n+=1){var r=e[n];r.f&z?Dt(r):ie(r)}}}function Hn(t){var e,n=g;Z(t.parent);try{$n(t),e=nr(t)}finally{Z(n)}return e}function Wn(t){var e=Hn(t),n=(de||t.f&se)&&t.deps!==null?De:L;W(t,n),t.equals(e)||(t.v=e,t.version=tr())}function Dt(t){$n(t),Be(t,0),W(t,Pe),t.v=t.children=t.deps=t.ctx=t.reactions=null}function Kn(t){g===null&&y===null&&Qr(),y!==null&&y.f&se&&jr(),It&&Xr()}function hs(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function ve(t,e,n,r=!0){var s=(t&nt)!==0,i=g,o={ctx:w,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:t|Q,first:null,fn:e,last:null,next:null,parent:s?null:i,prev:null,teardown:null,transitions:null,version:0};if(n){var a=_e;try{un(!0),ot(o),o.f|=Kr}catch(c){throw ie(o),c}finally{un(a)}}else e!==null&&at(o);var u=n&&o.deps===null&&o.first===null&&o.nodes_start===null&&o.teardown===null&&(o.f&Bn)===0;if(!u&&!s&&r&&(i!==null&&hs(o,i),y!==null&&y.f&z)){var l=y;(l.children??(l.children=[])).push(o)}return o}function Yn(t){const e=ve(Le,null,!1);return W(e,L),e.teardown=t,e}function yt(t){Kn();var e=g!==null&&(g.f&H)!==0&&w!==null&&!w.m;if(e){var n=w;(n.e??(n.e=[])).push({fn:t,effect:g,reaction:y})}else{var r=st(t);return r}}function ds(t){return Kn(),zn(t)}function ps(t){const e=ve(nt,t,!0);return()=>{ie(e)}}function st(t){return ve(Nn,t,!1)}function zn(t){return ve(Le,t,!0)}function F(t){return Pt(t)}function Pt(t,e=0){return ve(Le|Bt|e,t,!0)}function Ne(t,e=!0){return ve(Le|H,t,!0,e)}function Jn(t){var e=t.teardown;if(e!==null){const n=It,r=y;cn(!0),G(null);try{e.call(null)}finally{cn(n),G(r)}}}function Xn(t){var e=t.deriveds;if(e!==null){t.deriveds=null;for(var n=0;n<e.length;n+=1)Dt(e[n])}}function jn(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){var r=n.next;ie(n,e),n=r}}function _s(t){for(var e=t.first;e!==null;){var n=e.next;e.f&H||ie(e),e=n}}function ie(t,e=!0){var n=!1;if((e||t.f&zr)&&t.nodes_start!==null){for(var r=t.nodes_start,s=t.nodes_end;r!==null;){var i=r===s?null:rt(r);r.remove(),r=i}n=!0}jn(t,e&&!n),Xn(t),Be(t,0),W(t,Pe);var o=t.transitions;if(o!==null)for(const u of o)u.stop();Jn(t);var a=t.parent;a!==null&&a.first!==null&&Qn(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.parent=t.fn=t.nodes_start=t.nodes_end=null}function Qn(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function bt(t,e){var n=[];qt(t,n,!0),Gn(n,()=>{ie(t),e&&e()})}function Gn(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var s of t)s.out(r)}else e()}function qt(t,e,n){if(!(t.f&U)){if(t.f^=U,t.transitions!==null)for(const o of t.transitions)(o.is_global||n)&&e.push(o);for(var r=t.first;r!==null;){var s=r.next,i=(r.f&Lt)!==0||(r.f&H)!==0;qt(r,e,i?n:!1),r=s}}}function et(t){Zn(t,!0)}function Zn(t,e){if(t.f&U){Ie(t)&&ot(t),t.f^=U;for(var n=t.first;n!==null;){var r=n.next,s=(n.f&Lt)!==0||(n.f&H)!==0;Zn(n,s?e:!1),n=r}if(t.transitions!==null)for(const i of t.transitions)(i.is_global||e)&&i.in()}}let wt=!1,Et=[];function vs(){wt=!1;const t=Et.slice();Et=[],mt(t)}function gs(t){wt||(wt=!0,queueMicrotask(vs)),Et.push(t)}function ms(t){throw new Error("lifecycle_outside_component")}let tt=!1,_e=!1,It=!1;function un(t){_e=t}function cn(t){It=t}let kt=[],Re=0;let y=null;function G(t){y=t}let g=null;function Z(t){g=t}let re=null,R=null,D=0,X=null;function ys(t){X=t}let er=0,de=!1,xe=!1,he=new Set,w=null;function tr(){return++er}function it(){return!qe||w!==null&&w.l===null}function Ie(t){var o,a;var e=t.f;if(e&Q)return!0;if(e&De){var n=t.deps,r=(e&se)!==0;if(n!==null){var s;if(e&je){for(s=0;s<n.length;s++)((o=n[s]).reactions??(o.reactions=[])).push(t);t.f^=je}for(s=0;s<n.length;s++){var i=n[s];if(Ie(i)&&Wn(i),r&&g!==null&&!de&&!((a=i==null?void 0:i.reactions)!=null&&a.includes(t))&&(i.reactions??(i.reactions=[])).push(t),i.version>t.version)return!0}}r||W(t,L)}return!1}function bs(t,e,n){throw t}function nr(t){var h;var e=R,n=D,r=X,s=y,i=de,o=re,a=w,u=t.f;R=null,D=0,X=null,y=u&(H|nt)?null:t,de=!_e&&(u&se)!==0,re=null,w=t.ctx;try{var l=(0,t.fn)(),c=t.deps;if(R!==null){var f;if(Be(t,D),c!==null&&D>0)for(c.length=D+R.length,f=0;f<R.length;f++)c[D+f]=R[f];else t.deps=c=R;if(!de)for(f=D;f<c.length;f++)((h=c[f]).reactions??(h.reactions=[])).push(t)}else c!==null&&D<c.length&&(Be(t,D),c.length=D);return l}finally{R=e,D=n,X=r,y=s,de=i,re=o,w=a}}function ws(t,e){let n=e.reactions;if(n!==null){var r=n.indexOf(t);if(r!==-1){var s=n.length-1;s===0?n=e.reactions=null:(n[r]=n[s],n.pop())}}n===null&&e.f&z&&(R===null||!R.includes(e))&&(W(e,De),e.f&(se|je)||(e.f^=je),Be(e,0))}function Be(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)ws(t,n[r])}function ot(t){var e=t.f;if(!(e&Pe)){W(t,L);var n=g;g=t;try{e&Bt?_s(t):jn(t),Xn(t),Jn(t);var r=nr(t);t.teardown=typeof r=="function"?r:null,t.version=er}catch(s){bs(s)}finally{g=n}}}function Es(){Re>1e3&&(Re=0,Gr()),Re++}function ks(t){var e=t.length;if(e!==0){Es();var n=_e;_e=!0;try{for(var r=0;r<e;r++){var s=t[r];s.f&L||(s.f^=L);var i=[];rr(s,i),Ts(i)}}finally{_e=n}}}function Ts(t){var e=t.length;if(e!==0)for(var n=0;n<e;n++){var r=t[n];!(r.f&(Pe|U))&&Ie(r)&&(ot(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?Qn(r):r.fn=null))}}function As(){if(tt=!1,Re>1001)return;const t=kt;kt=[],ks(t),tt||(Re=0)}function at(t){tt||(tt=!0,queueMicrotask(As));for(var e=t;e.parent!==null;){e=e.parent;var n=e.f;if(n&(nt|H)){if(!(n&L))return;e.f^=L}}kt.push(e)}function rr(t,e){var n=t.first,r=[];e:for(;n!==null;){var s=n.f,i=(s&H)!==0,o=i&&(s&L)!==0;if(!o&&!(s&U))if(s&Le){i?n.f^=L:Ie(n)&&ot(n);var a=n.first;if(a!==null){n=a;continue}}else s&Nn&&r.push(n);var u=n.next;if(u===null){let f=n.parent;for(;f!==null;){if(t===f)break e;var l=f.next;if(l!==null){n=l;continue e}f=f.parent}}n=u}for(var c=0;c<r.length;c++)a=r[c],e.push(a),rr(a,e)}function b(t){var a;var e=t.f,n=(e&z)!==0;if(n&&e&Pe){var r=Hn(t);return Dt(t),r}if(xe&&he.add(t),y!==null){re!==null&&re.includes(t)&&Zr();var s=y.deps;R===null&&s!==null&&s[D]===t?D++:R===null?R=[t]:R.push(t),X!==null&&g!==null&&g.f&L&&!(g.f&H)&&X.includes(t)&&(W(g,Q),at(g))}else if(n&&t.deps===null){var i=t,o=i.parent;o!==null&&!((a=o.deriveds)!=null&&a.includes(i))&&(o.deriveds??(o.deriveds=[])).push(i)}return n&&(i=t,Ie(i)&&Wn(i)),t.v}function te(t){var e=xe,n=he;xe=!0,he=new Set;var r=he,s;try{Me(t)}finally{if(xe=e,xe)for(s of he)n.add(s);he=n}for(s of r)if(s.f&Yr)for(const i of s.deps||[])i.f&z||sn(i,null);else sn(s,null)}function Me(t){const e=y;try{return y=null,t()}finally{y=e}}const xs=~(Q|De|L);function W(t,e){t.f=t.f&xs|e}function sr(t,e=!1,n){w={p:w,c:null,e:null,m:!1,s:t,x:null,l:null},qe&&!e&&(w.l={s:null,u:null,r1:[],r2:Ge(!1)})}function ir(t){const e=w;if(e!==null){const o=e.e;if(o!==null){var n=g,r=y;e.e=null;try{for(var s=0;s<o.length;s++){var i=o[s];Z(i.effect),G(i.reaction),st(i.fn)}}finally{Z(n),G(r)}}w=e.p,e.m=!0}return{}}function Ss(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(Qe in t)Tt(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&Qe in n&&Tt(n)}}}function Tt(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let r in t)try{Tt(t[r],e)}catch{}const n=gt(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Cn(n);for(let s in r){const i=r[s].get;if(i)try{i.call(t)}catch{}}}}}let ln=!1;function Os(){ln||(ln=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const n of t.target.elements)(e=n.__on_r)==null||e.call(n)})},{capture:!0}))}function or(t){var e=y,n=g;G(null),Z(null);try{return t()}finally{G(e),Z(n)}}function ar(t,e,n,r=n){t.addEventListener(e,()=>or(n));const s=t.__on_r;s?t.__on_r=()=>{s(),r()}:t.__on_r=r,Os()}const Rs=new Set,fn=new Set;function Cs(t,e,n,r){function s(i){if(r.capture||Se.call(e,i),!i.cancelBubble)return or(()=>n.call(this,i))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?gs(()=>{e.addEventListener(t,s,r)}):e.addEventListener(t,s,r),s}function ke(t,e,n,r,s){var i={capture:r,passive:s},o=Cs(t,e,n,i);(e===document.body||e===window||e===document)&&Yn(()=>{e.removeEventListener(t,o,i)})}function Se(t){var B;var e=this,n=e.ownerDocument,r=t.type,s=((B=t.composedPath)==null?void 0:B.call(t))||[],i=s[0]||t.target,o=0,a=t.__root;if(a){var u=s.indexOf(a);if(u!==-1&&(e===document||e===window)){t.__root=e;return}var l=s.indexOf(e);if(l===-1)return;u<=l&&(o=u)}if(i=s[o]||t.target,i!==e){Hr(t,"currentTarget",{configurable:!0,get(){return i||n}});var c=y,f=g;G(null),Z(null);try{for(var h,p=[];i!==null;){var E=i.assignedSlot||i.parentNode||i.host||null;try{var N=i["__"+r];if(N!==void 0&&!i.disabled)if(Rn(N)){var[P,...k]=N;P.apply(i,[t,...k])}else N.call(i,t)}catch(K){h?p.push(K):h=K}if(t.cancelBubble||E===e||E===null)break;i=E}if(h){for(let K of p)queueMicrotask(()=>{throw K});throw h}}finally{t.__root=e,delete t.currentTarget,G(c),Z(f)}}}function Ns(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function hn(t,e){var n=g;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function oe(t,e){var n=(e&is)!==0,r=(e&os)!==0,s,i=!t.startsWith("<!>");return()=>{s===void 0&&(s=Ns(i?t:"<!>"+t),n||(s=Ze(s)));var o=r?document.importNode(s,!0):s.cloneNode(!0);if(n){var a=Ze(o),u=o.lastChild;hn(a,u)}else hn(o,o);return o}}function ne(t,e){t!==null&&t.before(e)}const Bs=["touchstart","touchmove"];function Ls(t){return Bs.includes(t)}function O(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=n,t.nodeValue=n==null?"":n+"")}function Ds(t,e){return Ps(t,e)}const le=new Map;function Ps(t,{target:e,anchor:n,props:r={},events:s,context:i,intro:o=!0}){cs();var a=new Set,u=f=>{for(var h=0;h<f.length;h++){var p=f[h];if(!a.has(p)){a.add(p);var E=Ls(p);e.addEventListener(p,Se,{passive:E});var N=le.get(p);N===void 0?(document.addEventListener(p,Se,{passive:E}),le.set(p,1)):le.set(p,N+1)}}};u(Nt(Rs)),fn.add(u);var l=void 0,c=ps(()=>{var f=n??e.appendChild(Vn());return Ne(()=>{if(i){sr({});var h=w;h.c=i}s&&(r.$$events=s),l=t(f,r)||{},i&&ir()}),()=>{var E;for(var h of a){e.removeEventListener(h,Se);var p=le.get(h);--p===0?(document.removeEventListener(h,Se),le.delete(h)):le.set(h,p)}fn.delete(u),dn.delete(l),f!==n&&((E=f.parentNode)==null||E.removeChild(f))}});return dn.set(l,c),l}let dn=new WeakMap;function He(t,e,n,r=null,s=!1){var i=t,o=null,a=null,u=null,l=s?Lt:0;Pt(()=>{u!==(u=!!e())&&(u?(o?et(o):o=Ne(()=>n(i)),a&&bt(a,()=>{a=null})):(a?et(a):r&&(a=Ne(()=>r(i))),o&&bt(o,()=>{o=null})))},l)}function qs(t,e,n,r){for(var s=[],i=e.length,o=0;o<i;o++)qt(e[o].e,s,!0);var a=i>0&&s.length===0&&n!==null;if(a){var u=n.parentNode;ls(u),u.append(n),r.clear(),J(t,e[0].prev,e[i-1].next)}Gn(s,()=>{for(var l=0;l<i;l++){var c=e[l];a||(r.delete(c.k),J(t,c.prev,c.next)),ie(c.e,!a)}})}function Is(t,e,n,r,s,i=null){var o=t,a={flags:e,items:new Map,first:null};{var u=t;o=u.appendChild(Vn())}var l=null,c=!1;Pt(()=>{var f=n(),h=Rn(f)?f:f==null?[]:Nt(f),p=h.length;if(!(c&&p===0)){c=p===0;{var E=y;Ms(h,a,o,s,e,(E.f&U)!==0,r)}i!==null&&(p===0?l?et(l):l=Ne(()=>i(o)):l!==null&&bt(l,()=>{l=null})),n()}})}function Ms(t,e,n,r,s,i,o){var a=t.length,u=e.items,l=e.first,c=l,f,h=null,p=[],E=[],N,P,k,B;for(B=0;B<a;B+=1){if(N=t[B],P=o(N,B),k=u.get(P),k===void 0){var K=c?c.e.nodes_start:n;h=Us(K,e,h,h===null?e.first:h.next,N,P,B,r,s),u.set(P,h),p=[],E=[],c=h.next;continue}if(Fs(k,N,B),k.e.f&U&&et(k.e),k!==c){if(f!==void 0&&f.has(k)){if(p.length<E.length){var ae=E[0],I;h=ae.prev;var me=p[0],ye=p[p.length-1];for(I=0;I<p.length;I+=1)pn(p[I],ae,n);for(I=0;I<E.length;I+=1)f.delete(E[I]);J(e,me.prev,ye.next),J(e,h,me),J(e,ye,ae),c=ae,h=ye,B-=1,p=[],E=[]}else f.delete(k),pn(k,c,n),J(e,k.prev,k.next),J(e,k,h===null?e.first:h.next),J(e,h,k),h=k;continue}for(p=[],E=[];c!==null&&c.k!==P;)(i||!(c.e.f&U))&&(f??(f=new Set)).add(c),E.push(c),c=c.next;if(c===null)continue;k=c}p.push(k),h=k,c=k.next}if(c!==null||f!==void 0){for(var ue=f===void 0?[]:Nt(f);c!==null;)(i||!(c.e.f&U))&&ue.push(c),c=c.next;var be=ue.length;if(be>0){var we=a===0?n:null;qs(e,ue,we,u)}}g.first=e.first&&e.first.e,g.last=h&&h.e}function Fs(t,e,n,r){In(t.v,e),t.i=n}function Us(t,e,n,r,s,i,o,a,u){var l=(u&ns)!==0,c=(u&ss)===0,f=l?c?Pn(s):Ge(s):s,h=u&rs?Ge(o):o,p={i:h,v:f,k:i,a:null,e:null,prev:n,next:r};try{return p.e=Ne(()=>a(t,f,h),as),p.e.prev=n&&n.e,p.e.next=r&&r.e,n===null?e.first=p:(n.next=p,n.e.next=p.e),r!==null&&(r.prev=p,r.e.prev=p.e),p}finally{}}function pn(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,s=e?e.e.nodes_start:n,i=t.e.nodes_start;i!==r;){var o=rt(i);s.before(i),i=o}}function J(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function _n(t,e,n,r){var s=t.__attributes??(t.__attributes={});s[e]!==(s[e]=n)&&(n==null?t.removeAttribute(e):typeof n!="string"&&Vs(t).includes(e)?t[e]=n:t.setAttribute(e,n))}var vn=new Map;function Vs(t){var e=vn.get(t.nodeName);if(e)return e;vn.set(t.nodeName,e=[]);for(var n,r=gt(t),s=Element.prototype;s!==r;){n=Cn(r);for(var i in n)n[i].set&&e.push(i);r=gt(r)}return e}function gn(t,e,n=e){var r=it();ar(t,"input",()=>{var s=mn(t)?yn(t.value):t.value;n(s),r&&s!==(s=e())&&(t.value=s??"")}),zn(()=>{var s=e();mn(t)&&s===yn(t.value)||t.type==="date"&&!s&&!t.value||s!==t.value&&(t.value=s??"")})}function mn(t){var e=t.type;return e==="number"||e==="range"}function yn(t){return t===""?null:+t}function ur(t,e,n){if(t.multiple)return Hs(t,e);for(var r of t.options){var s=Ce(r);if(us(s,e)){r.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function $s(t,e){st(()=>{var n=new MutationObserver(()=>{var r=t.__value;ur(t,r)});return n.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{n.disconnect()}})}function bn(t,e,n=e){var r=!0;ar(t,"change",()=>{var s;if(t.multiple)s=[].map.call(t.querySelectorAll(":checked"),Ce);else{var i=t.querySelector(":checked");s=i&&Ce(i)}n(s)}),st(()=>{var s=e();if(ur(t,s,r),r&&s===void 0){var i=t.querySelector(":checked");i!==null&&(s=Ce(i),n(s))}t.__value=s,r=!1}),$s(t)}function Hs(t,e){for(var n of t.options)n.selected=~e.indexOf(Ce(n))}function Ce(t){return"__value"in t?t.__value:t.value}function Ws(t=!1){const e=w,n=e.l.u;if(!n)return;let r=()=>Ss(e.s);if(t){let s=0,i={};const o=fs(()=>{let a=!1;const u=e.s;for(const l in u)u[l]!==i[l]&&(i[l]=u[l],a=!0);return a&&s++,s});r=()=>b(o)}n.b.length&&ds(()=>{wn(e,r),mt(n.b)}),yt(()=>{const s=Me(()=>n.m.map(Wr));return()=>{for(const i of s)typeof i=="function"&&i()}}),n.a.length&&yt(()=>{wn(e,r),mt(n.a)})}function wn(t,e){if(t.l.s)for(const n of t.l.s)b(n);e()}function Ks(t,e,n){if(t==null)return e(void 0),pe;const r=Me(()=>t.subscribe(e,n));return r.unsubscribe?()=>r.unsubscribe():r}function En(t,e,n){const r=n[e]??(n[e]={store:null,source:Pn(void 0),unsubscribe:pe});if(r.store!==t)if(r.unsubscribe(),r.store=t??null,t==null)r.source.v=void 0,r.unsubscribe=pe;else{var s=!0;r.unsubscribe=Ks(t,i=>{s?r.source.v=i:qn(r.source,i)}),s=!1}return b(r.source)}function cr(t,e){return t.set(e),e}function Te(t,e){var n=t[e];n.store!==null&&cr(n.store,n.source.v)}function Ys(){const t={};return Yn(()=>{for(var e in t)t[e].unsubscribe()}),t}function zs(t){w===null&&ms(),qe&&w.l!==null?Js(w).m.push(t):yt(()=>{const e=Me(t);if(typeof e=="function")return e})}function Js(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}const Xs="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Xs);ts();const fe=[];function kn(t,e=pe){let n=null;const r=new Set;function s(a){if(Dn(t,a)&&(t=a,n)){const u=!fe.length;for(const l of r)l[1](),fe.push(l,t);if(u){for(let l=0;l<fe.length;l+=2)fe[l][0](fe[l+1]);fe.length=0}}}function i(a){s(a(t))}function o(a,u=pe){const l=[a,u];return r.add(l),r.size===1&&(n=e(s,i)||pe),a(t),()=>{r.delete(l),r.size===0&&n&&(n(),n=null)}}return{set:s,update:i,subscribe:o}}const $=Object.create(null);$.open="0";$.close="1";$.ping="2";$.pong="3";$.message="4";$.upgrade="5";$.noop="6";const Ye=Object.create(null);Object.keys($).forEach(t=>{Ye[$[t]]=t});const At={type:"error",data:"parser error"},lr=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",fr=typeof ArrayBuffer=="function",hr=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Mt=({type:t,data:e},n,r)=>lr&&e instanceof Blob?n?r(e):Tn(e,r):fr&&(e instanceof ArrayBuffer||hr(e))?n?r(e):Tn(new Blob([e]),r):r($[t]+(e||"")),Tn=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function An(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let pt;function js(t,e){if(lr&&t.data instanceof Blob)return t.data.arrayBuffer().then(An).then(e);if(fr&&(t.data instanceof ArrayBuffer||hr(t.data)))return e(An(t.data));Mt(t,!1,n=>{pt||(pt=new TextEncoder),e(pt.encode(n))})}const xn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Oe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<xn.length;t++)Oe[xn.charCodeAt(t)]=t;const Qs=t=>{let e=t.length*.75,n=t.length,r,s=0,i,o,a,u;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const l=new ArrayBuffer(e),c=new Uint8Array(l);for(r=0;r<n;r+=4)i=Oe[t.charCodeAt(r)],o=Oe[t.charCodeAt(r+1)],a=Oe[t.charCodeAt(r+2)],u=Oe[t.charCodeAt(r+3)],c[s++]=i<<2|o>>4,c[s++]=(o&15)<<4|a>>2,c[s++]=(a&3)<<6|u&63;return l},Gs=typeof ArrayBuffer=="function",Ft=(t,e)=>{if(typeof t!="string")return{type:"message",data:dr(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:Zs(t.substring(1),e)}:Ye[n]?t.length>1?{type:Ye[n],data:t.substring(1)}:{type:Ye[n]}:At},Zs=(t,e)=>{if(Gs){const n=Qs(t);return dr(n,e)}else return{base64:!0,data:t}},dr=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},pr="",ei=(t,e)=>{const n=t.length,r=new Array(n);let s=0;t.forEach((i,o)=>{Mt(i,!1,a=>{r[o]=a,++s===n&&e(r.join(pr))})})},ti=(t,e)=>{const n=t.split(pr),r=[];for(let s=0;s<n.length;s++){const i=Ft(n[s],e);if(r.push(i),i.type==="error")break}return r};function ni(){return new TransformStream({transform(t,e){js(t,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(n)})}})}let _t;function We(t){return t.reduce((e,n)=>e+n.length,0)}function Ke(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let s=0;s<e;s++)n[s]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function ri(t,e){_t||(_t=new TextDecoder);const n=[];let r=0,s=-1,i=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(r===0){if(We(n)<1)break;const u=Ke(n,1);i=(u[0]&128)===128,s=u[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(We(n)<2)break;const u=Ke(n,2);s=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),r=3}else if(r===2){if(We(n)<8)break;const u=Ke(n,8),l=new DataView(u.buffer,u.byteOffset,u.length),c=l.getUint32(0);if(c>Math.pow(2,21)-1){a.enqueue(At);break}s=c*Math.pow(2,32)+l.getUint32(4),r=3}else{if(We(n)<s)break;const u=Ke(n,s);a.enqueue(Ft(i?u:_t.decode(u),e)),r=0}if(s===0||s>t){a.enqueue(At);break}}}})}const _r=4;function x(t){if(t)return si(t)}function si(t){for(var e in x.prototype)t[e]=x.prototype[e];return t}x.prototype.on=x.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};x.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};x.prototype.off=x.prototype.removeListener=x.prototype.removeAllListeners=x.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===e||r.fn===e){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+t],this};x.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,e)}return this};x.prototype.emitReserved=x.prototype.emit;x.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};x.prototype.hasListeners=function(t){return!!this.listeners(t).length};const ut=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),q=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),ii="arraybuffer";function vr(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const oi=q.setTimeout,ai=q.clearTimeout;function ct(t,e){e.useNativeTimers?(t.setTimeoutFn=oi.bind(q),t.clearTimeoutFn=ai.bind(q)):(t.setTimeoutFn=q.setTimeout.bind(q),t.clearTimeoutFn=q.clearTimeout.bind(q))}const ui=1.33;function ci(t){return typeof t=="string"?li(t):Math.ceil((t.byteLength||t.size)*ui)}function li(t){let e=0,n=0;for(let r=0,s=t.length;r<s;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function gr(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function fi(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function hi(t){let e={},n=t.split("&");for(let r=0,s=n.length;r<s;r++){let i=n[r].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}class di extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class Ut extends x{constructor(e){super(),this.writable=!1,ct(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new di(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=Ft(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=fi(e);return n.length?"?"+n:""}}class pi extends Ut{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};ti(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,ei(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=gr()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let mr=!1;try{mr=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const _i=mr;function vi(){}class gi extends pi{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}class V extends x{constructor(e,n,r){super(),this.createRequest=e,ct(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const n=vr(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=V.requestsCount++,V.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=vi,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete V.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}V.requestsCount=0;V.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Sn);else if(typeof addEventListener=="function"){const t="onpagehide"in q?"pagehide":"unload";addEventListener(t,Sn,!1)}}function Sn(){for(let t in V.requests)V.requests.hasOwnProperty(t)&&V.requests[t].abort()}const mi=function(){const t=yr({xdomain:!1});return t&&t.responseType!==null}();class yi extends gi{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=mi&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new V(yr,this.uri(),e)}}function yr(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||_i))return new XMLHttpRequest}catch{}if(!e)try{return new q[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const br=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class bi extends Ut{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,r=br?{}:vr(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],s=n===e.length-1;Mt(r,this.supportsBinary,i=>{try{this.doWrite(r,i)}catch{}s&&ut(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=gr()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const vt=q.WebSocket||q.MozWebSocket;class wi extends bi{createSocket(e,n,r){return br?new vt(e,n,r):n?new vt(e,n):new vt(e)}doWrite(e,n){this.ws.send(n)}}class Ei extends Ut{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=ri(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),s=ni();s.readable.pipeTo(e.writable),this._writer=s.writable.getWriter();const i=()=>{r.read().then(({done:a,value:u})=>{a||(this.onPacket(u),i())}).catch(a=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],s=n===e.length-1;this._writer.write(r).then(()=>{s&&ut(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const ki={websocket:wi,webtransport:Ei,polling:yi},Ti=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Ai=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function xt(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let s=Ti.exec(t||""),i={},o=14;for(;o--;)i[Ai[o]]=s[o]||"";return n!=-1&&r!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=xi(i,i.path),i.queryKey=Si(i,i.query),i}function xi(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function Si(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,i){s&&(n[s]=i)}),n}const St=typeof addEventListener=="function"&&typeof removeEventListener=="function",ze=[];St&&addEventListener("offline",()=>{ze.forEach(t=>t())},!1);class j extends x{constructor(e,n){if(super(),this.binaryType=ii,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const r=xt(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=xt(n.host).host);ct(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=hi(this.opts.query)),St&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ze.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=_r,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&j.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",j.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=ci(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,ut(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:e,data:n,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(j.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),St&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=ze.indexOf(this._offlineEventListener);r!==-1&&ze.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}j.protocol=_r;class Oi extends j{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;j.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",f=>{if(!r)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;j.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(c(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=n.name,this.emitReserved("upgradeError",h)}}))};function i(){r||(r=!0,c(),n.close(),n=null)}const o=f=>{const h=new Error("probe error: "+f);h.transport=n.name,i(),this.emitReserved("upgradeError",h)};function a(){o("transport closed")}function u(){o("socket closed")}function l(f){n&&f.name!==n.name&&i()}const c=()=>{n.removeListener("open",s),n.removeListener("error",o),n.removeListener("close",a),this.off("close",u),this.off("upgrading",l)};n.once("open",s),n.once("error",o),n.once("close",a),this.once("close",u),this.once("upgrading",l),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}let Ri=class extends Oi{constructor(e,n={}){const r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>ki[s]).filter(s=>!!s)),super(e,r)}};function Ci(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=xt(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+e,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}const Ni=typeof ArrayBuffer=="function",Bi=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,wr=Object.prototype.toString,Li=typeof Blob=="function"||typeof Blob<"u"&&wr.call(Blob)==="[object BlobConstructor]",Di=typeof File=="function"||typeof File<"u"&&wr.call(File)==="[object FileConstructor]";function Vt(t){return Ni&&(t instanceof ArrayBuffer||Bi(t))||Li&&t instanceof Blob||Di&&t instanceof File}function Je(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(Je(t[n]))return!0;return!1}if(Vt(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Je(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Je(t[n]))return!0;return!1}function Pi(t){const e=[],n=t.data,r=t;return r.data=Ot(n,e),r.attachments=e.length,{packet:r,buffers:e}}function Ot(t,e){if(!t)return t;if(Vt(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=Ot(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=Ot(t[r],e));return n}return t}function qi(t,e){return t.data=Rt(t.data,e),delete t.attachments,t}function Rt(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=Rt(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=Rt(t[n],e));return t}const Ii=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Mi=5;var v;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(v||(v={}));class Fi{constructor(e){this.replacer=e}encode(e){return(e.type===v.EVENT||e.type===v.ACK)&&Je(e)?this.encodeAsBinary({type:e.type===v.EVENT?v.BINARY_EVENT:v.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===v.BINARY_EVENT||e.type===v.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=Pi(e),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function On(t){return Object.prototype.toString.call(t)==="[object Object]"}class $t extends x{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===v.BINARY_EVENT;r||n.type===v.BINARY_ACK?(n.type=r?v.EVENT:v.ACK,this.reconstructor=new Ui(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Vt(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(v[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===v.BINARY_EVENT||r.type===v.BINARY_ACK){const i=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const o=e.substring(i,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(e.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(i,n)}else r.nsp="/";const s=e.charAt(n+1);if(s!==""&&Number(s)==s){const i=n+1;for(;++n;){const o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}r.id=Number(e.substring(i,n+1))}if(e.charAt(++n)){const i=this.tryParse(e.substr(n));if($t.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case v.CONNECT:return On(n);case v.DISCONNECT:return n===void 0;case v.CONNECT_ERROR:return typeof n=="string"||On(n);case v.EVENT:case v.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Ii.indexOf(n[0])===-1);case v.ACK:case v.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Ui{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=qi(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Vi=Object.freeze(Object.defineProperty({__proto__:null,Decoder:$t,Encoder:Fi,get PacketType(){return v},protocol:Mi},Symbol.toStringTag,{value:"Module"}));function M(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const $i=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Er extends x{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[M(e,"open",this.onopen.bind(this)),M(e,"packet",this.onpacket.bind(this)),M(e,"error",this.onerror.bind(this)),M(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,s,i;if($i.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:v.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const c=this.ids++,f=n.pop();this._registerAckCallback(c,f),o.id=c}const a=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,u=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!a||(u?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[e]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},s),o=(...a)=>{this.io.clearTimeoutFn(i),n.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...n){return new Promise((r,s)=>{const i=(o,a)=>o?s(o):r(a);i.withError=!0,n.push(i),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...i)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:v.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case v.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case v.EVENT:case v.BINARY_EVENT:this.onevent(e);break;case v.ACK:case v.BINARY_ACK:this.onack(e);break;case v.DISCONNECT:this.ondisconnect();break;case v.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:v.ACK,id:e,data:s}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:v.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function ge(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}ge.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};ge.prototype.reset=function(){this.attempts=0};ge.prototype.setMin=function(t){this.ms=t};ge.prototype.setMax=function(t){this.max=t};ge.prototype.setJitter=function(t){this.jitter=t};class Ct extends x{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,ct(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new ge({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const s=n.parser||Vi;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Ri(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=M(n,"open",function(){r.onopen(),e&&e()}),i=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=M(n,"error",i);if(this._timeout!==!1){const a=this._timeout,u=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),n.close()},a);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(s),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(M(e,"ping",this.onping.bind(this)),M(e,"data",this.ondata.bind(this)),M(e,"error",this.onerror.bind(this)),M(e,"close",this.onclose.bind(this)),M(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){ut(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new Er(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Ae={};function Xe(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=Ci(t,e.path||"/socket.io"),r=n.source,s=n.id,i=n.path,o=Ae[s]&&i in Ae[s].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let u;return a?u=new Ct(r,e):(Ae[s]||(Ae[s]=new Ct(r,e)),u=Ae[s]),n.query&&!e.query&&(e.query=n.queryKey),u.socket(n.path,e)}Object.assign(Xe,{Manager:Ct,Socket:Er,io:Xe,connect:Xe});const A={en:{title:"Washing Machine Status",status:"Status",info:"The information here is of course not 100% reliable.",usageFor:"Usage Duration (hours and minutes)",working:"Working",broken:"Broken",finished:"Finished",alert:"The duration must be greater than zero.",createdBy:"Created by Tom (E05)",timeRemaining:"Time Remaining",timeElapsed:"Done since",doneAt:"Will be done at",selectLanguage:"Select Language:",hoursPlaceholder:"Hours (optional)",minutesPlaceholder:"Minutes",setDuration:"Set Duration",noMachines:"No machines available at the moment.",apiUrl:"API URL",devMode:"DEV MODE",about:"Here you can indicate which washing machines are in use and which are out of order. You can also indicate until what time you use the washing machine, so that nobody has to go to the basement to find no free washing machine. Everything is completely anonymous. The more of us who use it, the better."},de:{title:"Status der Waschmaschinenen",status:"Status",info:"Die Informationen hier sind natürlich nicht 100%ig zuverlässig.",usageFor:"Nutzungsdauer (Stunden und Minuten)",working:"Funktioniert",broken:"Defekt",finished:"Fertig",alert:"Die Dauer muss größer als null sein.",createdBy:"Erstellt von Tom (E05)",timeRemaining:"Verbleibende Zeit",timeElapsed:"Fertig seit",doneAt:"Fertig um",selectLanguage:"Sprache auswählen:",hoursPlaceholder:"Stunden (optional)",minutesPlaceholder:"Minuten",setDuration:"Dauer festlegen",noMachines:"Zur Zeit sind keine Maschinen verfügbar.",apiUrl:"API URL",devMode:"Entwicklungsmodus",about:"Hier können Sie eingeben, welche Waschmaschinen funktionieren und welche nicht. Sie können auch angeben, wann Ihre Waschmaschine läuft, damit niemand in den Keller muss, nur um keine freie Waschmaschine zu finden. Alles ist völlig anonym. Je mehr von uns dies verwenden, desto besser."},ru:{title:"Статус стиральной машины",status:"Статус",info:"Разумеется, информация здесь не является на 100% достоверной.",usageFor:"Длительность использования (часы и минуты)",working:"Работает",broken:"Неисправна",finished:"Завершено",alert:"Длительность должна быть больше нуля.",createdBy:"Создано Томом (E05)",timeRemaining:"Осталось времени",timeElapsed:"Выполнено с тех пор",doneAt:"Будет готово в",selectLanguage:"Выбрать язык:",hoursPlaceholder:"Часы (по желанию)",minutesPlaceholder:"Минуты",setDuration:"Установить длительность",noMachines:"На данный момент машины недоступны.",apiUrl:"API URL",devMode:"Режим разработки",about:"Здесь вы можете указать, какие стиральные машины используются, а какие нет. Вы также можете указать, до какого времени вы используете стиральную машину, так что никому не придется идти в подвал, чтобы найти свободную стиральную машину. Все абсолютно анонимно. Чем больше нас будет, тем лучше."}};var Hi=oe('<p class="dev"> </p> <p class="dev"> </p>',1),Wi=oe('<p class="text-gray-500"> </p>'),Ki=oe('<p class="text-sm text-green-400"> </p> <p class="text-sm text-green-400"> </p>',1),Yi=oe('<p class="text-sm text-red-400"> </p>'),zi=oe('<div class="mt-4"><!></div> <button class="done-button"> </button>',1),Ji=oe('<div class="machine"><h2 class="h2"> </h2> <label class="block mb-2"><span class="text-sm font-medium"> </span> <select class="state-select"><option> </option><option> </option></select></label> <div class="mt-4"><label class="block mb-4"><span class="text-sm font-medium"> </span> <div class="time-input-container"><input type="number" min="0" max="4" id="hours" class="time-input"> <input type="number" min="0" max="59" id="minutes" class="time-input"> <button class="set-duration-button"> </button></div></label></div> <!></div>'),Xi=oe('<div class="min-h-screen bg-gray-900 text-white py-6"><div class="max-w-4xl mx-auto bg-gray-800 p-6 rounded-md shadow-md"><div class="language-toggle"><label for="language" class="language-label"> </label> <select id="language" class="language-select"><option>English</option><option>Deutsch</option><option>Русский</option></select></div> <h1 class="h1"> </h1> <p class="info"> </p> <!> <!> <div class="container"></div> <div class="mt-12"><p class="text-sm text-gray-500"> </p> <hr class="my-6"> <p class="text-gray-400 mb-4"> </p> <p class="text-blue-400"><a href="https://github.com/h43lb1t0/MB1-Waschmaschienen" target="_blank" class="hover:underline">Source code: Github</a></p> <hr class="my-6"> <div><h4 class="text-lg font-semibold mb-2">Impressum:</h4> <p class="text-sm">Tom Haelbich</p> <p class="text-sm">Marksburgstr. 1</p> <p class="text-sm">10318 Berlin</p></div></div></div></div>');function ji(t,e){sr(e,!1);const n=Ys(),r=()=>En(l,"$language",n),s=()=>En(i,"$machines",n),i=kn([]),o="https://mb1-api.haelbich.org",a=!1,u=localStorage.getItem("preferredLanguage")||"en",l=kn(u),c=!!localStorage.getItem("knowsHowToUseWebsite")||!1;let f;zs(()=>{f=Xe(o),h(),c||(alert(`How do I use this website?

Specify for the corresponding washing machine how long you will use it. Provide this in hours and minutes. When you are finished with the laundry, please press the 'Done' button so that everyone knows that the washing machine is truly available again.`),localStorage.setItem("knowsHowToUseWebsite",String(!0))),f.on("machine_update",d=>{i.update(S=>S.map(C=>C.id===d.id?{...C,...d}:C))});const _=setInterval(()=>{i.update(d=>d.map(S=>{if(S.usage_until){const C=P(S.usage_until);return{...S,timeRemaining:C}}return S}))},3e4);return()=>{f&&f.disconnect(),clearInterval(_)}}),l.subscribe(_=>{localStorage.setItem("preferredLanguage",_)});async function h(){try{const _=await fetch(o+"/machines");if(!_.ok)throw new Error("Network response was not ok");const d=await _.json();i.set(d)}catch(_){console.error("Failed to fetch machines:",_),i.set([])}}async function p(_){try{if(!(await fetch(`${o}/machines/${_.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:_.status,usage_until:_.usage_until,start_time:_.start_time})})).ok)throw new Error("Failed to update machine")}catch(d){console.error("Failed to update machine:",d)}}function E(_,d){_.status=d.target.value,p(_)}function N(_,d,S){const C=(d||0)*60+(S||0);if(d===0&&S===0||S>=60){alert(A[r()].alert);return}if(C>0){const ee=new Date,ce=new Date(ee.getTime()+C*6e4);_.start_time=ee.toISOString(),_.usage_until=ce.toISOString(),p(_)}else alert(A[r()].alert)}function P(_){const d=new Date,C=new Date(_)-d;return Math.ceil(C/6e4)}function k(_){return new Date(_).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}function B(_){const d=_.key;!/^[0-9]$/.test(d)&&d!=="Backspace"&&d!=="Delete"&&d!=="ArrowLeft"&&d!=="ArrowRight"&&_.preventDefault()}Ws();var K=Xi(),ae=m(K),I=m(ae),me=m(I),ye=m(me),ue=T(me,2);F(()=>{r(),te(()=>{})});var be=m(ue);be.value=(be.__value="en")==null?"":"en";var we=T(be);we.value=(we.__value="de")==null?"":"de";var Ht=T(we);Ht.value=(Ht.__value="ru")==null?"":"ru";var Wt=T(I,2),kr=m(Wt),Kt=T(Wt,2),Tr=m(Kt),Yt=T(Kt,2);He(Yt,()=>a,_=>{var d=Hi(),S=dt(d),C=m(S),ee=T(S,2),ce=m(ee);F(()=>{O(C,`${A[r()].apiUrl??""}: ${o}`),O(ce,A[r()].devMode)}),ne(_,d)});var zt=T(Yt,2);He(zt,()=>s().length===0,_=>{var d=Wi(),S=m(d);F(()=>O(S,A[r()].noMachines)),ne(_,d)});var Jt=T(zt,2);Is(Jt,5,s,_=>_.id,(_,d)=>{var S=Ji(),C=m(S),ee=m(C),ce=T(C,2),jt=m(ce),Rr=m(jt),lt=T(jt,2);F(()=>{b(d).status,te(()=>{r()})});var Fe=m(lt);Fe.value=(Fe.__value="working")==null?"":"working";var Cr=m(Fe),ft=T(Fe);ft.value=(ft.__value="broken")==null?"":"broken";var Nr=m(ft),Qt=T(ce,2),Br=m(Qt),Gt=m(Br),Lr=m(Gt),Dr=T(Gt,2),Ue=m(Dr),Ve=T(Ue,2),Zt=T(Ve,2),Pr=m(Zt),qr=T(Qt,2);He(qr,()=>b(d).usage_until,Y=>{var en=zi(),tn=dt(en),Ir=m(tn);He(Ir,()=>P(b(d).usage_until)>0,ht=>{var Ee=Ki(),$e=dt(Ee),Fr=m($e);F(()=>O(Fr,`${A[r()].timeRemaining??""}: ${P(b(d).usage_until)??""} minutes`));var Ur=T($e,2),Vr=m(Ur);F(()=>O(Vr,`${A[r()].doneAt??""}: ${k(b(d).usage_until)??""}`)),ne(ht,Ee)},ht=>{var Ee=Yi(),$e=m(Ee);F(()=>O($e,`${A[r()].timeElapsed??""}: ${P(b(d).usage_until)??""} minutes`)),ne(ht,Ee)});var nn=T(tn,2),Mr=m(nn);F(()=>O(Mr,A[r()].finished)),ke("click",nn,()=>{b(d).usage_until=null,te(()=>s()),Te(n,"$machines"),b(d).start_time=null,te(()=>s()),Te(n,"$machines"),p(b(d))}),ne(Y,en)}),F(()=>{O(ee,b(d).name),O(Rr,`${A[r()].status??""}:`),O(Cr,A[r()].working),O(Nr,A[r()].broken),O(Lr,`${A[r()].usageFor??""}:`),_n(Ue,"placeholder",A[r()].hoursPlaceholder),_n(Ve,"placeholder",A[r()].minutesPlaceholder),O(Pr,A[r()].setDuration)}),bn(lt,()=>b(d).status,Y=>(b(d).status=Y,te(()=>s()),Te(n,"$machines"))),ke("change",lt,Y=>E(b(d),Y)),gn(Ue,()=>b(d).hours,Y=>(b(d).hours=Y,te(()=>s()),Te(n,"$machines"))),ke("keydown",Ue,B),gn(Ve,()=>b(d).minutes,Y=>(b(d).minutes=Y,te(()=>s()),Te(n,"$machines"))),ke("keydown",Ve,B),ke("click",Zt,()=>N(b(d),parseInt(b(d).hours),parseInt(b(d).minutes))),ne(_,S)});var Ar=T(Jt,2),Xt=m(Ar),xr=m(Xt),Sr=T(Xt,4),Or=m(Sr);F(()=>{O(ye,A[r()].selectLanguage),O(kr,A[r()].title),O(Tr,A[r()].info),O(xr,A[r()].createdBy),O(Or,A[r()].about)}),bn(ue,r,_=>cr(l,_)),ne(t,K),ir()}Ds(ji,{target:document.getElementById("app")});
