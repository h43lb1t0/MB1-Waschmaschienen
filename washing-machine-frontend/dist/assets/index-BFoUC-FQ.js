(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const Wr=!1;var Nn=Array.isArray,Dt=Array.from,Kr=Object.defineProperty,on=Object.getOwnPropertyDescriptor,Bn=Object.getOwnPropertyDescriptors,bt=Object.getPrototypeOf;const pe=()=>{};function Yr(t){return t()}function wt(t){for(var e=0;e<t.length;e++)t[e]()}const J=2,Ln=4,Ie=8,Pt=16,K=32,st=64,ie=128,Ge=256,L=512,Z=1024,Me=2048,$=4096,Fe=8192,zr=16384,qt=32768,Jr=65536,Xr=1<<18,Dn=1<<19,Ze=Symbol("$state");function Pn(t){return t===this.v}function qn(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function jr(t){return!qn(t,this.v)}function Qr(t){throw new Error("effect_in_teardown")}function Gr(){throw new Error("effect_in_unowned_derived")}function Zr(t){throw new Error("effect_orphan")}function es(){throw new Error("effect_update_depth_exceeded")}function ts(){throw new Error("state_unsafe_local_read")}function ns(){throw new Error("state_unsafe_mutation")}let Ue=!1;function rs(){Ue=!0}function et(t){return{f:0,v:t,reactions:null,equals:Pn,version:0}}function In(t,e=!1){var r;const n=et(t);return e||(n.equals=jr),Ue&&E!==null&&E.l!==null&&((r=E.l).s??(r.s=[])).push(n),n}function an(t,e){return Mn(t,$e(()=>m(t))),e}function Mn(t,e){return b!==null&&at()&&b.f&(J|Pt)&&(se===null||!se.includes(t))&&ns(),Fn(t,e)}function Fn(t,e){return t.equals(e)||(t.v=e,t.version=rr(),Un(t,Z),at()&&y!==null&&y.f&L&&!(y.f&K)&&(C!==null&&C.includes(t)?(Y(y,Z),ct(y)):Q===null?ws([t]):Q.push(t))),e}function Un(t,e){var n=t.reactions;if(n!==null)for(var r=at(),s=n.length,i=0;i<s;i++){var o=n[i],a=o.f;a&Z||!r&&o===y||(Y(o,e),a&(L|ie)&&(a&J?Un(o,Me):ct(o)))}}const ss=1,is=2,os=16,as=1,us=2;let cs=!1;function un(t){return t!==null&&typeof t=="object"&&Ze in t?t[Ze]:t}function ls(t,e){return Object.is(un(t),un(e))}var cn,Vn,$n;function fs(){if(cn===void 0){cn=window;var t=Element.prototype,e=Node.prototype;Vn=on(e,"firstChild").get,$n=on(e,"nextSibling").get,t.__click=void 0,t.__className="",t.__attributes=null,t.__styles=null,t.__e=void 0,Text.prototype.__t=void 0}}function Hn(t=""){return document.createTextNode(t)}function tt(t){return Vn.call(t)}function it(t){return $n.call(t)}function g(t,e){return tt(t)}function vt(t,e){{var n=tt(t);return n instanceof Comment&&n.data===""?it(n):n}}function T(t,e=1,n=!1){let r=t;for(;e--;)r=it(r);return r}function hs(t){t.textContent=""}function ds(t){var e=J|Z;y===null?e|=ie:y.f|=Dn;const n={children:null,ctx:E,deps:null,equals:Pn,f:e,fn:t,reactions:null,v:null,version:0,parent:y};if(b!==null&&b.f&J){var r=b;(r.children??(r.children=[])).push(n)}return n}function Wn(t){var e=t.children;if(e!==null){t.children=null;for(var n=0;n<e.length;n+=1){var r=e[n];r.f&J?It(r):oe(r)}}}function Kn(t){var e,n=y;te(t.parent);try{Wn(t),e=sr(t)}finally{te(n)}return e}function Yn(t){var e=Kn(t),n=(de||t.f&ie)&&t.deps!==null?Me:L;Y(t,n),t.equals(e)||(t.v=e,t.version=rr())}function It(t){Wn(t),qe(t,0),Y(t,Fe),t.v=t.children=t.deps=t.ctx=t.reactions=null}function zn(t){y===null&&b===null&&Zr(),b!==null&&b.f&ie&&Gr(),Ut&&Qr()}function ps(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function ve(t,e,n,r=!0){var s=(t&st)!==0,i=y,o={ctx:E,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:t|Z,first:null,fn:e,last:null,next:null,parent:s?null:i,prev:null,teardown:null,transitions:null,version:0};if(n){var a=_e;try{ln(!0),ut(o),o.f|=zr}catch(c){throw oe(o),c}finally{ln(a)}}else e!==null&&ct(o);var u=n&&o.deps===null&&o.first===null&&o.nodes_start===null&&o.teardown===null&&(o.f&Dn)===0;if(!u&&!s&&r&&(i!==null&&ps(o,i),b!==null&&b.f&J)){var l=b;(l.children??(l.children=[])).push(o)}return o}function Jn(t){const e=ve(Ie,null,!1);return Y(e,L),e.teardown=t,e}function Et(t){zn();var e=y!==null&&(y.f&K)!==0&&E!==null&&!E.m;if(e){var n=E;(n.e??(n.e=[])).push({fn:t,effect:y,reaction:b})}else{var r=ot(t);return r}}function _s(t){return zn(),Xn(t)}function vs(t){const e=ve(st,t,!0);return()=>{oe(e)}}function ot(t){return ve(Ln,t,!1)}function Xn(t){return ve(Ie,t,!0)}function U(t){return Mt(t)}function Mt(t,e=0){return ve(Ie|Pt|e,t,!0)}function Pe(t,e=!0){return ve(Ie|K,t,!0,e)}function jn(t){var e=t.teardown;if(e!==null){const n=Ut,r=b;fn(!0),ee(null);try{e.call(null)}finally{fn(n),ee(r)}}}function Qn(t){var e=t.deriveds;if(e!==null){t.deriveds=null;for(var n=0;n<e.length;n+=1)It(e[n])}}function Gn(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){var r=n.next;oe(n,e),n=r}}function gs(t){for(var e=t.first;e!==null;){var n=e.next;e.f&K||oe(e),e=n}}function oe(t,e=!0){var n=!1;if((e||t.f&Xr)&&t.nodes_start!==null){for(var r=t.nodes_start,s=t.nodes_end;r!==null;){var i=r===s?null:it(r);r.remove(),r=i}n=!0}Gn(t,e&&!n),Qn(t),qe(t,0),Y(t,Fe);var o=t.transitions;if(o!==null)for(const u of o)u.stop();jn(t);var a=t.parent;a!==null&&a.first!==null&&Zn(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.parent=t.fn=t.nodes_start=t.nodes_end=null}function Zn(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function kt(t,e){var n=[];Ft(t,n,!0),er(n,()=>{oe(t),e&&e()})}function er(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var s of t)s.out(r)}else e()}function Ft(t,e,n){if(!(t.f&$)){if(t.f^=$,t.transitions!==null)for(const o of t.transitions)(o.is_global||n)&&e.push(o);for(var r=t.first;r!==null;){var s=r.next,i=(r.f&qt)!==0||(r.f&K)!==0;Ft(r,e,i?n:!1),r=s}}}function nt(t){tr(t,!0)}function tr(t,e){if(t.f&$){Ve(t)&&ut(t),t.f^=$;for(var n=t.first;n!==null;){var r=n.next,s=(n.f&qt)!==0||(n.f&K)!==0;tr(n,s?e:!1),n=r}if(t.transitions!==null)for(const i of t.transitions)(i.is_global||e)&&i.in()}}let Tt=!1,At=[];function ys(){Tt=!1;const t=At.slice();At=[],wt(t)}function ms(t){Tt||(Tt=!0,queueMicrotask(ys)),At.push(t)}function bs(t){throw new Error("lifecycle_outside_component")}let rt=!1,_e=!1,Ut=!1;function ln(t){_e=t}function fn(t){Ut=t}let St=[],Le=0;let b=null;function ee(t){b=t}let y=null;function te(t){y=t}let se=null,C=null,P=0,Q=null;function ws(t){Q=t}let nr=0,de=!1,Ce=!1,he=new Set,E=null;function rr(){return++nr}function at(){return!Ue||E!==null&&E.l===null}function Ve(t){var o,a;var e=t.f;if(e&Z)return!0;if(e&Me){var n=t.deps,r=(e&ie)!==0;if(n!==null){var s;if(e&Ge){for(s=0;s<n.length;s++)((o=n[s]).reactions??(o.reactions=[])).push(t);t.f^=Ge}for(s=0;s<n.length;s++){var i=n[s];if(Ve(i)&&Yn(i),r&&y!==null&&!de&&!((a=i==null?void 0:i.reactions)!=null&&a.includes(t))&&(i.reactions??(i.reactions=[])).push(t),i.version>t.version)return!0}}r||Y(t,L)}return!1}function Es(t,e,n){throw t}function sr(t){var d;var e=C,n=P,r=Q,s=b,i=de,o=se,a=E,u=t.f;C=null,P=0,Q=null,b=u&(K|st)?null:t,de=!_e&&(u&ie)!==0,se=null,E=t.ctx;try{var l=(0,t.fn)(),c=t.deps;if(C!==null){var f;if(qe(t,P),c!==null&&P>0)for(c.length=P+C.length,f=0;f<C.length;f++)c[P+f]=C[f];else t.deps=c=C;if(!de)for(f=P;f<c.length;f++)((d=c[f]).reactions??(d.reactions=[])).push(t)}else c!==null&&P<c.length&&(qe(t,P),c.length=P);return l}finally{C=e,P=n,Q=r,b=s,de=i,se=o,E=a}}function ks(t,e){let n=e.reactions;if(n!==null){var r=n.indexOf(t);if(r!==-1){var s=n.length-1;s===0?n=e.reactions=null:(n[r]=n[s],n.pop())}}n===null&&e.f&J&&(C===null||!C.includes(e))&&(Y(e,Me),e.f&(ie|Ge)||(e.f^=Ge),qe(e,0))}function qe(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)ks(t,n[r])}function ut(t){var e=t.f;if(!(e&Fe)){Y(t,L);var n=y;y=t;try{e&Pt?gs(t):Gn(t),Qn(t),jn(t);var r=sr(t);t.teardown=typeof r=="function"?r:null,t.version=nr}catch(s){Es(s)}finally{y=n}}}function Ts(){Le>1e3&&(Le=0,es()),Le++}function As(t){var e=t.length;if(e!==0){Ts();var n=_e;_e=!0;try{for(var r=0;r<e;r++){var s=t[r];s.f&L||(s.f^=L);var i=[];ir(s,i),Ss(i)}}finally{_e=n}}}function Ss(t){var e=t.length;if(e!==0)for(var n=0;n<e;n++){var r=t[n];!(r.f&(Fe|$))&&Ve(r)&&(ut(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?Zn(r):r.fn=null))}}function xs(){if(rt=!1,Le>1001)return;const t=St;St=[],As(t),rt||(Le=0)}function ct(t){rt||(rt=!0,queueMicrotask(xs));for(var e=t;e.parent!==null;){e=e.parent;var n=e.f;if(n&(st|K)){if(!(n&L))return;e.f^=L}}St.push(e)}function ir(t,e){var n=t.first,r=[];e:for(;n!==null;){var s=n.f,i=(s&K)!==0,o=i&&(s&L)!==0;if(!o&&!(s&$))if(s&Ie){i?n.f^=L:Ve(n)&&ut(n);var a=n.first;if(a!==null){n=a;continue}}else s&Ln&&r.push(n);var u=n.next;if(u===null){let f=n.parent;for(;f!==null;){if(t===f)break e;var l=f.next;if(l!==null){n=l;continue e}f=f.parent}}n=u}for(var c=0;c<r.length;c++)a=r[c],e.push(a),ir(a,e)}function m(t){var a;var e=t.f,n=(e&J)!==0;if(n&&e&Fe){var r=Kn(t);return It(t),r}if(Ce&&he.add(t),b!==null){se!==null&&se.includes(t)&&ts();var s=b.deps;C===null&&s!==null&&s[P]===t?P++:C===null?C=[t]:C.push(t),Q!==null&&y!==null&&y.f&L&&!(y.f&K)&&Q.includes(t)&&(Y(y,Z),ct(y))}else if(n&&t.deps===null){var i=t,o=i.parent;o!==null&&!((a=o.deriveds)!=null&&a.includes(i))&&(o.deriveds??(o.deriveds=[])).push(i)}return n&&(i=t,Ve(i)&&Yn(i)),t.v}function re(t){var e=Ce,n=he;Ce=!0,he=new Set;var r=he,s;try{$e(t)}finally{if(Ce=e,Ce)for(s of he)n.add(s);he=n}for(s of r)if(s.f&Jr)for(const i of s.deps||[])i.f&J||an(i,null);else an(s,null)}function $e(t){const e=b;try{return b=null,t()}finally{b=e}}const Os=~(Z|Me|L);function Y(t,e){t.f=t.f&Os|e}function or(t,e=!1,n){E={p:E,c:null,e:null,m:!1,s:t,x:null,l:null},Ue&&!e&&(E.l={s:null,u:null,r1:[],r2:et(!1)})}function ar(t){const e=E;if(e!==null){const o=e.e;if(o!==null){var n=y,r=b;e.e=null;try{for(var s=0;s<o.length;s++){var i=o[s];te(i.effect),ee(i.reaction),ot(i.fn)}}finally{te(n),ee(r)}}E=e.p,e.m=!0}return{}}function Rs(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(Ze in t)xt(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&Ze in n&&xt(n)}}}function xt(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let r in t)try{xt(t[r],e)}catch{}const n=bt(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Bn(n);for(let s in r){const i=r[s].get;if(i)try{i.call(t)}catch{}}}}}let hn=!1;function Cs(){hn||(hn=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const n of t.target.elements)(e=n.__on_r)==null||e.call(n)})},{capture:!0}))}function ur(t){var e=b,n=y;ee(null),te(null);try{return t()}finally{ee(e),te(n)}}function cr(t,e,n,r=n){t.addEventListener(e,()=>ur(n));const s=t.__on_r;s?t.__on_r=()=>{s(),r()}:t.__on_r=r,Cs()}const Ns=new Set,dn=new Set;function Bs(t,e,n,r){function s(i){if(r.capture||Ne.call(e,i),!i.cancelBubble)return ur(()=>n.call(this,i))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?ms(()=>{e.addEventListener(t,s,r)}):e.addEventListener(t,s,r),s}function Se(t,e,n,r,s){var i={capture:r,passive:s},o=Bs(t,e,n,i);(e===document.body||e===window||e===document)&&Jn(()=>{e.removeEventListener(t,o,i)})}function Ne(t){var B;var e=this,n=e.ownerDocument,r=t.type,s=((B=t.composedPath)==null?void 0:B.call(t))||[],i=s[0]||t.target,o=0,a=t.__root;if(a){var u=s.indexOf(a);if(u!==-1&&(e===document||e===window)){t.__root=e;return}var l=s.indexOf(e);if(l===-1)return;u<=l&&(o=u)}if(i=s[o]||t.target,i!==e){Kr(t,"currentTarget",{configurable:!0,get(){return i||n}});var c=b,f=y;ee(null),te(null);try{for(var d,p=[];i!==null;){var k=i.assignedSlot||i.parentNode||i.host||null;try{var N=i["__"+r];if(N!==void 0&&!i.disabled)if(Nn(N)){var[q,...w]=N;q.apply(i,[t,...w])}else N.call(i,t)}catch(z){d?p.push(z):d=z}if(t.cancelBubble||k===e||k===null)break;i=k}if(d){for(let z of p)queueMicrotask(()=>{throw z});throw d}}finally{t.__root=e,delete t.currentTarget,ee(c),te(f)}}}function Ls(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function pn(t,e){var n=y;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function ne(t,e){var n=(e&as)!==0,r=(e&us)!==0,s,i=!t.startsWith("<!>");return()=>{s===void 0&&(s=Ls(i?t:"<!>"+t),n||(s=tt(s)));var o=r?document.importNode(s,!0):s.cloneNode(!0);if(n){var a=tt(o),u=o.lastChild;pn(a,u)}else pn(o,o);return o}}function X(t,e){t!==null&&t.before(e)}const Ds=["touchstart","touchmove"];function Ps(t){return Ds.includes(t)}function O(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=n,t.nodeValue=n==null?"":n+"")}function qs(t,e){return Is(t,e)}const le=new Map;function Is(t,{target:e,anchor:n,props:r={},events:s,context:i,intro:o=!0}){fs();var a=new Set,u=f=>{for(var d=0;d<f.length;d++){var p=f[d];if(!a.has(p)){a.add(p);var k=Ps(p);e.addEventListener(p,Ne,{passive:k});var N=le.get(p);N===void 0?(document.addEventListener(p,Ne,{passive:k}),le.set(p,1)):le.set(p,N+1)}}};u(Dt(Ns)),dn.add(u);var l=void 0,c=vs(()=>{var f=n??e.appendChild(Hn());return Pe(()=>{if(i){or({});var d=E;d.c=i}s&&(r.$$events=s),l=t(f,r)||{},i&&ar()}),()=>{var k;for(var d of a){e.removeEventListener(d,Ne);var p=le.get(d);--p===0?(document.removeEventListener(d,Ne),le.delete(d)):le.set(d,p)}dn.delete(u),_n.delete(l),f!==n&&((k=f.parentNode)==null||k.removeChild(f))}});return _n.set(l,c),l}let _n=new WeakMap;function xe(t,e,n,r=null,s=!1){var i=t,o=null,a=null,u=null,l=s?qt:0;Mt(()=>{u!==(u=!!e())&&(u?(o?nt(o):o=Pe(()=>n(i)),a&&kt(a,()=>{a=null})):(a?nt(a):r&&(a=Pe(()=>r(i))),o&&kt(o,()=>{o=null})))},l)}function Ms(t,e,n,r){for(var s=[],i=e.length,o=0;o<i;o++)Ft(e[o].e,s,!0);var a=i>0&&s.length===0&&n!==null;if(a){var u=n.parentNode;hs(u),u.append(n),r.clear(),j(t,e[0].prev,e[i-1].next)}er(s,()=>{for(var l=0;l<i;l++){var c=e[l];a||(r.delete(c.k),j(t,c.prev,c.next)),oe(c.e,!a)}})}function Fs(t,e,n,r,s,i=null){var o=t,a={flags:e,items:new Map,first:null};{var u=t;o=u.appendChild(Hn())}var l=null,c=!1;Mt(()=>{var f=n(),d=Nn(f)?f:f==null?[]:Dt(f),p=d.length;if(!(c&&p===0)){c=p===0;{var k=b;Us(d,a,o,s,e,(k.f&$)!==0,r)}i!==null&&(p===0?l?nt(l):l=Pe(()=>i(o)):l!==null&&kt(l,()=>{l=null})),n()}})}function Us(t,e,n,r,s,i,o){var a=t.length,u=e.items,l=e.first,c=l,f,d=null,p=[],k=[],N,q,w,B;for(B=0;B<a;B+=1){if(N=t[B],q=o(N,B),w=u.get(q),w===void 0){var z=c?c.e.nodes_start:n;d=$s(z,e,d,d===null?e.first:d.next,N,q,B,r,s),u.set(q,d),p=[],k=[],c=d.next;continue}if(Vs(w,N,B),w.e.f&$&&nt(w.e),w!==c){if(f!==void 0&&f.has(w)){if(p.length<k.length){var ae=k[0],M;d=ae.prev;var ye=p[0],me=p[p.length-1];for(M=0;M<p.length;M+=1)vn(p[M],ae,n);for(M=0;M<k.length;M+=1)f.delete(k[M]);j(e,ye.prev,me.next),j(e,d,ye),j(e,me,ae),c=ae,d=me,B-=1,p=[],k=[]}else f.delete(w),vn(w,c,n),j(e,w.prev,w.next),j(e,w,d===null?e.first:d.next),j(e,d,w),d=w;continue}for(p=[],k=[];c!==null&&c.k!==q;)(i||!(c.e.f&$))&&(f??(f=new Set)).add(c),k.push(c),c=c.next;if(c===null)continue;w=c}p.push(w),d=w,c=w.next}if(c!==null||f!==void 0){for(var ue=f===void 0?[]:Dt(f);c!==null;)(i||!(c.e.f&$))&&ue.push(c),c=c.next;var be=ue.length;if(be>0){var we=a===0?n:null;Ms(e,ue,we,u)}}y.first=e.first&&e.first.e,y.last=d&&d.e}function Vs(t,e,n,r){Fn(t.v,e),t.i=n}function $s(t,e,n,r,s,i,o,a,u){var l=(u&ss)!==0,c=(u&os)===0,f=l?c?In(s):et(s):s,d=u&is?et(o):o,p={i:d,v:f,k:i,a:null,e:null,prev:n,next:r};try{return p.e=Pe(()=>a(t,f,d),cs),p.e.prev=n&&n.e,p.e.next=r&&r.e,n===null?e.first=p:(n.next=p,n.e.next=p.e),r!==null&&(r.prev=p,r.e.prev=p.e),p}finally{}}function vn(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,s=e?e.e.nodes_start:n,i=t.e.nodes_start;i!==r;){var o=it(i);s.before(i),i=o}}function j(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function gn(t,e,n,r){var s=t.__attributes??(t.__attributes={});s[e]!==(s[e]=n)&&(n==null?t.removeAttribute(e):typeof n!="string"&&Hs(t).includes(e)?t[e]=n:t.setAttribute(e,n))}var yn=new Map;function Hs(t){var e=yn.get(t.nodeName);if(e)return e;yn.set(t.nodeName,e=[]);for(var n,r=bt(t),s=Element.prototype;s!==r;){n=Bn(r);for(var i in n)n[i].set&&e.push(i);r=bt(r)}return e}function Ws(t,e,n){if(n){if(t.classList.contains(e))return;t.classList.add(e)}else{if(!t.classList.contains(e))return;t.classList.remove(e)}}function mn(t,e,n=e){var r=at();cr(t,"input",()=>{var s=bn(t)?wn(t.value):t.value;n(s),r&&s!==(s=e())&&(t.value=s??"")}),Xn(()=>{var s=e();bn(t)&&s===wn(t.value)||t.type==="date"&&!s&&!t.value||s!==t.value&&(t.value=s??"")})}function bn(t){var e=t.type;return e==="number"||e==="range"}function wn(t){return t===""?null:+t}function lr(t,e,n){if(t.multiple)return Ys(t,e);for(var r of t.options){var s=De(r);if(ls(s,e)){r.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Ks(t,e){ot(()=>{var n=new MutationObserver(()=>{var r=t.__value;lr(t,r)});return n.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{n.disconnect()}})}function En(t,e,n=e){var r=!0;cr(t,"change",()=>{var s;if(t.multiple)s=[].map.call(t.querySelectorAll(":checked"),De);else{var i=t.querySelector(":checked");s=i&&De(i)}n(s)}),ot(()=>{var s=e();if(lr(t,s,r),r&&s===void 0){var i=t.querySelector(":checked");i!==null&&(s=De(i),n(s))}t.__value=s,r=!1}),Ks(t)}function Ys(t,e){for(var n of t.options)n.selected=~e.indexOf(De(n))}function De(t){return"__value"in t?t.__value:t.value}function zs(t=!1){const e=E,n=e.l.u;if(!n)return;let r=()=>Rs(e.s);if(t){let s=0,i={};const o=ds(()=>{let a=!1;const u=e.s;for(const l in u)u[l]!==i[l]&&(i[l]=u[l],a=!0);return a&&s++,s});r=()=>m(o)}n.b.length&&_s(()=>{kn(e,r),wt(n.b)}),Et(()=>{const s=$e(()=>n.m.map(Yr));return()=>{for(const i of s)typeof i=="function"&&i()}}),n.a.length&&Et(()=>{kn(e,r),wt(n.a)})}function kn(t,e){if(t.l.s)for(const n of t.l.s)m(n);e()}function Js(t,e,n){if(t==null)return e(void 0),pe;const r=$e(()=>t.subscribe(e,n));return r.unsubscribe?()=>r.unsubscribe():r}function Tn(t,e,n){const r=n[e]??(n[e]={store:null,source:In(void 0),unsubscribe:pe});if(r.store!==t)if(r.unsubscribe(),r.store=t??null,t==null)r.source.v=void 0,r.unsubscribe=pe;else{var s=!0;r.unsubscribe=Js(t,i=>{s?r.source.v=i:Mn(r.source,i)}),s=!1}return m(r.source)}function fr(t,e){return t.set(e),e}function Oe(t,e){var n=t[e];n.store!==null&&fr(n.store,n.source.v)}function Xs(){const t={};return Jn(()=>{for(var e in t)t[e].unsubscribe()}),t}function js(t){E===null&&bs(),Ue&&E.l!==null?Qs(E).m.push(t):Et(()=>{const e=$e(t);if(typeof e=="function")return e})}function Qs(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}const Gs="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Gs);rs();const fe=[];function An(t,e=pe){let n=null;const r=new Set;function s(a){if(qn(t,a)&&(t=a,n)){const u=!fe.length;for(const l of r)l[1](),fe.push(l,t);if(u){for(let l=0;l<fe.length;l+=2)fe[l][0](fe[l+1]);fe.length=0}}}function i(a){s(a(t))}function o(a,u=pe){const l=[a,u];return r.add(l),r.size===1&&(n=e(s,i)||pe),a(t),()=>{r.delete(l),r.size===0&&n&&(n(),n=null)}}return{set:s,update:i,subscribe:o}}const W=Object.create(null);W.open="0";W.close="1";W.ping="2";W.pong="3";W.message="4";W.upgrade="5";W.noop="6";const Je=Object.create(null);Object.keys(W).forEach(t=>{Je[W[t]]=t});const Ot={type:"error",data:"parser error"},hr=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",dr=typeof ArrayBuffer=="function",pr=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Vt=({type:t,data:e},n,r)=>hr&&e instanceof Blob?n?r(e):Sn(e,r):dr&&(e instanceof ArrayBuffer||pr(e))?n?r(e):Sn(new Blob([e]),r):r(W[t]+(e||"")),Sn=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function xn(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let gt;function Zs(t,e){if(hr&&t.data instanceof Blob)return t.data.arrayBuffer().then(xn).then(e);if(dr&&(t.data instanceof ArrayBuffer||pr(t.data)))return e(xn(t.data));Vt(t,!1,n=>{gt||(gt=new TextEncoder),e(gt.encode(n))})}const On="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Be=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<On.length;t++)Be[On.charCodeAt(t)]=t;const ei=t=>{let e=t.length*.75,n=t.length,r,s=0,i,o,a,u;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const l=new ArrayBuffer(e),c=new Uint8Array(l);for(r=0;r<n;r+=4)i=Be[t.charCodeAt(r)],o=Be[t.charCodeAt(r+1)],a=Be[t.charCodeAt(r+2)],u=Be[t.charCodeAt(r+3)],c[s++]=i<<2|o>>4,c[s++]=(o&15)<<4|a>>2,c[s++]=(a&3)<<6|u&63;return l},ti=typeof ArrayBuffer=="function",$t=(t,e)=>{if(typeof t!="string")return{type:"message",data:_r(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:ni(t.substring(1),e)}:Je[n]?t.length>1?{type:Je[n],data:t.substring(1)}:{type:Je[n]}:Ot},ni=(t,e)=>{if(ti){const n=ei(t);return _r(n,e)}else return{base64:!0,data:t}},_r=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},vr="",ri=(t,e)=>{const n=t.length,r=new Array(n);let s=0;t.forEach((i,o)=>{Vt(i,!1,a=>{r[o]=a,++s===n&&e(r.join(vr))})})},si=(t,e)=>{const n=t.split(vr),r=[];for(let s=0;s<n.length;s++){const i=$t(n[s],e);if(r.push(i),i.type==="error")break}return r};function ii(){return new TransformStream({transform(t,e){Zs(t,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(n)})}})}let yt;function Ye(t){return t.reduce((e,n)=>e+n.length,0)}function ze(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let s=0;s<e;s++)n[s]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function oi(t,e){yt||(yt=new TextDecoder);const n=[];let r=0,s=-1,i=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(r===0){if(Ye(n)<1)break;const u=ze(n,1);i=(u[0]&128)===128,s=u[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(Ye(n)<2)break;const u=ze(n,2);s=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),r=3}else if(r===2){if(Ye(n)<8)break;const u=ze(n,8),l=new DataView(u.buffer,u.byteOffset,u.length),c=l.getUint32(0);if(c>Math.pow(2,21)-1){a.enqueue(Ot);break}s=c*Math.pow(2,32)+l.getUint32(4),r=3}else{if(Ye(n)<s)break;const u=ze(n,s);a.enqueue($t(i?u:yt.decode(u),e)),r=0}if(s===0||s>t){a.enqueue(Ot);break}}}})}const gr=4;function S(t){if(t)return ai(t)}function ai(t){for(var e in S.prototype)t[e]=S.prototype[e];return t}S.prototype.on=S.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};S.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};S.prototype.off=S.prototype.removeListener=S.prototype.removeAllListeners=S.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===e||r.fn===e){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+t],this};S.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,e)}return this};S.prototype.emitReserved=S.prototype.emit;S.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};S.prototype.hasListeners=function(t){return!!this.listeners(t).length};const lt=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),I=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),ui="arraybuffer";function yr(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const ci=I.setTimeout,li=I.clearTimeout;function ft(t,e){e.useNativeTimers?(t.setTimeoutFn=ci.bind(I),t.clearTimeoutFn=li.bind(I)):(t.setTimeoutFn=I.setTimeout.bind(I),t.clearTimeoutFn=I.clearTimeout.bind(I))}const fi=1.33;function hi(t){return typeof t=="string"?di(t):Math.ceil((t.byteLength||t.size)*fi)}function di(t){let e=0,n=0;for(let r=0,s=t.length;r<s;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function mr(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function pi(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function _i(t){let e={},n=t.split("&");for(let r=0,s=n.length;r<s;r++){let i=n[r].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}class vi extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class Ht extends S{constructor(e){super(),this.writable=!1,ft(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new vi(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=$t(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=pi(e);return n.length?"?"+n:""}}class gi extends Ht{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};si(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,ri(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=mr()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let br=!1;try{br=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const yi=br;function mi(){}class bi extends gi{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}class H extends S{constructor(e,n,r){super(),this.createRequest=e,ft(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const n=yr(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=H.requestsCount++,H.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=mi,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete H.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}H.requestsCount=0;H.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Rn);else if(typeof addEventListener=="function"){const t="onpagehide"in I?"pagehide":"unload";addEventListener(t,Rn,!1)}}function Rn(){for(let t in H.requests)H.requests.hasOwnProperty(t)&&H.requests[t].abort()}const wi=function(){const t=wr({xdomain:!1});return t&&t.responseType!==null}();class Ei extends bi{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=wi&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new H(wr,this.uri(),e)}}function wr(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||yi))return new XMLHttpRequest}catch{}if(!e)try{return new I[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Er=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class ki extends Ht{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,r=Er?{}:yr(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],s=n===e.length-1;Vt(r,this.supportsBinary,i=>{try{this.doWrite(r,i)}catch{}s&&lt(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=mr()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const mt=I.WebSocket||I.MozWebSocket;class Ti extends ki{createSocket(e,n,r){return Er?new mt(e,n,r):n?new mt(e,n):new mt(e)}doWrite(e,n){this.ws.send(n)}}class Ai extends Ht{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=oi(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),s=ii();s.readable.pipeTo(e.writable),this._writer=s.writable.getWriter();const i=()=>{r.read().then(({done:a,value:u})=>{a||(this.onPacket(u),i())}).catch(a=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],s=n===e.length-1;this._writer.write(r).then(()=>{s&&lt(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const Si={websocket:Ti,webtransport:Ai,polling:Ei},xi=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Oi=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Rt(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let s=xi.exec(t||""),i={},o=14;for(;o--;)i[Oi[o]]=s[o]||"";return n!=-1&&r!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=Ri(i,i.path),i.queryKey=Ci(i,i.query),i}function Ri(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function Ci(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,i){s&&(n[s]=i)}),n}const Ct=typeof addEventListener=="function"&&typeof removeEventListener=="function",Xe=[];Ct&&addEventListener("offline",()=>{Xe.forEach(t=>t())},!1);class G extends S{constructor(e,n){if(super(),this.binaryType=ui,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const r=Rt(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=Rt(n.host).host);ft(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=_i(this.opts.query)),Ct&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Xe.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=gr,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&G.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",G.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=hi(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,lt(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:e,data:n,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(G.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Ct&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Xe.indexOf(this._offlineEventListener);r!==-1&&Xe.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}G.protocol=gr;class Ni extends G{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;G.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",f=>{if(!r)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;G.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(c(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const d=new Error("probe error");d.transport=n.name,this.emitReserved("upgradeError",d)}}))};function i(){r||(r=!0,c(),n.close(),n=null)}const o=f=>{const d=new Error("probe error: "+f);d.transport=n.name,i(),this.emitReserved("upgradeError",d)};function a(){o("transport closed")}function u(){o("socket closed")}function l(f){n&&f.name!==n.name&&i()}const c=()=>{n.removeListener("open",s),n.removeListener("error",o),n.removeListener("close",a),this.off("close",u),this.off("upgrading",l)};n.once("open",s),n.once("error",o),n.once("close",a),this.once("close",u),this.once("upgrading",l),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}let Bi=class extends Ni{constructor(e,n={}){const r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>Si[s]).filter(s=>!!s)),super(e,r)}};function Li(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=Rt(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+e,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}const Di=typeof ArrayBuffer=="function",Pi=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,kr=Object.prototype.toString,qi=typeof Blob=="function"||typeof Blob<"u"&&kr.call(Blob)==="[object BlobConstructor]",Ii=typeof File=="function"||typeof File<"u"&&kr.call(File)==="[object FileConstructor]";function Wt(t){return Di&&(t instanceof ArrayBuffer||Pi(t))||qi&&t instanceof Blob||Ii&&t instanceof File}function je(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(je(t[n]))return!0;return!1}if(Wt(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return je(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&je(t[n]))return!0;return!1}function Mi(t){const e=[],n=t.data,r=t;return r.data=Nt(n,e),r.attachments=e.length,{packet:r,buffers:e}}function Nt(t,e){if(!t)return t;if(Wt(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=Nt(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=Nt(t[r],e));return n}return t}function Fi(t,e){return t.data=Bt(t.data,e),delete t.attachments,t}function Bt(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=Bt(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=Bt(t[n],e));return t}const Ui=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Vi=5;var v;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(v||(v={}));class $i{constructor(e){this.replacer=e}encode(e){return(e.type===v.EVENT||e.type===v.ACK)&&je(e)?this.encodeAsBinary({type:e.type===v.EVENT?v.BINARY_EVENT:v.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===v.BINARY_EVENT||e.type===v.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=Mi(e),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function Cn(t){return Object.prototype.toString.call(t)==="[object Object]"}class Kt extends S{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===v.BINARY_EVENT;r||n.type===v.BINARY_ACK?(n.type=r?v.EVENT:v.ACK,this.reconstructor=new Hi(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Wt(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(v[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===v.BINARY_EVENT||r.type===v.BINARY_ACK){const i=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const o=e.substring(i,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(e.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(i,n)}else r.nsp="/";const s=e.charAt(n+1);if(s!==""&&Number(s)==s){const i=n+1;for(;++n;){const o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}r.id=Number(e.substring(i,n+1))}if(e.charAt(++n)){const i=this.tryParse(e.substr(n));if(Kt.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case v.CONNECT:return Cn(n);case v.DISCONNECT:return n===void 0;case v.CONNECT_ERROR:return typeof n=="string"||Cn(n);case v.EVENT:case v.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Ui.indexOf(n[0])===-1);case v.ACK:case v.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Hi{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=Fi(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Wi=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Kt,Encoder:$i,get PacketType(){return v},protocol:Vi},Symbol.toStringTag,{value:"Module"}));function V(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const Ki=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Tr extends S{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[V(e,"open",this.onopen.bind(this)),V(e,"packet",this.onpacket.bind(this)),V(e,"error",this.onerror.bind(this)),V(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,s,i;if(Ki.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:v.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const c=this.ids++,f=n.pop();this._registerAckCallback(c,f),o.id=c}const a=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,u=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!a||(u?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[e]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},s),o=(...a)=>{this.io.clearTimeoutFn(i),n.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...n){return new Promise((r,s)=>{const i=(o,a)=>o?s(o):r(a);i.withError=!0,n.push(i),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...i)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:v.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case v.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case v.EVENT:case v.BINARY_EVENT:this.onevent(e);break;case v.ACK:case v.BINARY_ACK:this.onack(e);break;case v.DISCONNECT:this.ondisconnect();break;case v.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:v.ACK,id:e,data:s}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:v.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function ge(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}ge.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};ge.prototype.reset=function(){this.attempts=0};ge.prototype.setMin=function(t){this.ms=t};ge.prototype.setMax=function(t){this.max=t};ge.prototype.setJitter=function(t){this.jitter=t};class Lt extends S{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,ft(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new ge({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const s=n.parser||Wi;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Bi(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=V(n,"open",function(){r.onopen(),e&&e()}),i=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=V(n,"error",i);if(this._timeout!==!1){const a=this._timeout,u=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),n.close()},a);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(s),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(V(e,"ping",this.onping.bind(this)),V(e,"data",this.ondata.bind(this)),V(e,"error",this.onerror.bind(this)),V(e,"close",this.onclose.bind(this)),V(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){lt(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new Tr(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Re={};function Qe(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=Li(t,e.path||"/socket.io"),r=n.source,s=n.id,i=n.path,o=Re[s]&&i in Re[s].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let u;return a?u=new Lt(r,e):(Re[s]||(Re[s]=new Lt(r,e)),u=Re[s]),n.query&&!e.query&&(e.query=n.queryKey),u.socket(n.path,e)}Object.assign(Qe,{Manager:Lt,Socket:Tr,io:Qe,connect:Qe});const A={en:{title:"Washing Machine Status",status:"Status",info:"The information here is of course not 100% reliable.",usageFor:"Usage Duration (hours and minutes)",working:"Working",broken:"Broken",finished:"Finished",alert:"The duration must be greater than zero.",createdBy:"Created by Tom (E05)",timeRemaining:"Time Remaining",timeElapsed:"Done since",doneAt:"Will be done at",selectLanguage:"Select Language:",hoursPlaceholder:"Hours (optional)",minutesPlaceholder:"Minutes",setDuration:"Set Duration",noMachines:"No machines available at the moment.",apiUrl:"API URL",devMode:"DEV MODE",about:"Here you can indicate which washing machines are in use and which are out of order. You can also indicate until what time you use the washing machine, so that nobody has to go to the basement to find no free washing machine. Everything is completely anonymous. The more of us who use it, the better.",lastStateChange:"Last state change"},de:{title:"Status der Waschmaschinenen",status:"Status",info:"Die Informationen hier sind natürlich nicht 100%ig zuverlässig.",usageFor:"Nutzungsdauer (Stunden und Minuten)",working:"Funktioniert",broken:"Defekt",finished:"Fertig",alert:"Die Dauer muss größer als null sein.",createdBy:"Erstellt von Tom (E05)",timeRemaining:"Verbleibende Zeit",timeElapsed:"Fertig seit",doneAt:"Fertig um",selectLanguage:"Sprache auswählen:",hoursPlaceholder:"Stunden (optional)",minutesPlaceholder:"Minuten",setDuration:"Dauer festlegen",noMachines:"Zur Zeit sind keine Maschinen verfügbar.",apiUrl:"API URL",devMode:"Entwicklungsmodus",about:"Hier können Sie eingeben, welche Waschmaschinen funktionieren und welche nicht. Sie können auch angeben, wann Ihre Waschmaschine läuft, damit niemand in den Keller muss, nur um keine freie Waschmaschine zu finden. Alles ist völlig anonym. Je mehr von uns dies verwenden, desto besser.",lastStateChange:"Letzte Statusänderung"},ru:{title:"Статус стиральной машины",status:"Статус",info:"Разумеется, информация здесь не является на 100% достоверной.",usageFor:"Длительность использования (часы и минуты)",working:"Работает",broken:"Неисправна",finished:"Завершено",alert:"Длительность должна быть больше нуля.",createdBy:"Создано Томом (E05)",timeRemaining:"Осталось времени",timeElapsed:"Выполнено с тех пор",doneAt:"Будет готово в",selectLanguage:"Выбрать язык:",hoursPlaceholder:"Часы (по желанию)",minutesPlaceholder:"Минуты",setDuration:"Установить длительность",noMachines:"На данный момент машины недоступны.",apiUrl:"API URL",devMode:"Режим разработки",about:"Здесь вы можете указать, какие стиральные машины используются, а какие нет. Вы также можете указать, до какого времени вы используете стиральную машину, так что никому не придется идти в подвал, чтобы найти свободную стиральную машину. Все абсолютно анонимно. Чем больше нас будет, тем лучше.",lastStateChange:"Последнее изменение статуса"}};var Yi=ne('<p class="dev"> </p> <p class="dev"> </p>',1),zi=ne('<p class="text-gray-500"> </p>'),Ji=ne('<p class="text-sm text-gray-400 mt-1"> </p>'),Xi=ne('<p class="text-sm text-green-400"> </p> <p class="text-sm text-green-400"> </p>',1),ji=ne('<p class="text-sm text-red-400"> </p>'),Qi=ne('<div class="mt-4"><!></div> <button class="done-button"> </button>',1),Gi=ne('<div class="machine"><h2 class="h2"> </h2> <div class="mt-4"><label class="block mb-2"><span class="text-sm font-medium"> </span> <select class="state-select"><option> </option><option> </option></select></label> <!></div> <div class="mt-4"><label class="block mb-4"><span class="text-sm font-medium"> </span> <div class="time-input-container"><input type="number" min="0" max="4" id="hours" class="time-input"> <input type="number" min="0" max="59" id="minutes" class="time-input"> <button class="set-duration-button svelte-rffrvv"> </button></div></label></div> <!></div>'),Zi=ne('<div class="min-h-screen bg-gray-900 text-white py-6"><div class="max-w-4xl mx-auto bg-gray-800 p-6 rounded-md shadow-md"><div class="language-toggle"><label for="language" class="language-label"> </label> <select id="language" class="language-select"><option>English</option><option>Deutsch</option><option>Русский</option></select></div> <h1 class="h1"> </h1> <p class="info"> </p> <!> <!> <div class="container"></div> <div class="mt-12"><p class="text-sm text-gray-500"> </p> <hr class="my-6"> <p class="text-gray-400 mb-4"> </p> <p class="text-blue-400"><a href="https://github.com/h43lb1t0/MB1-Waschmaschienen" target="_blank" class="hover:underline">Source code: Github</a></p> <hr class="my-6"> <div><h4 class="text-lg font-semibold mb-2">Impressum:</h4> <p class="text-sm">Tom Haelbich</p> <p class="text-sm">Marksburgstr. 1</p> <p class="text-sm">10318 Berlin</p></div></div></div></div>');function eo(t,e){or(e,!1);const n=Xs(),r=()=>Tn(l,"$language",n),s=()=>Tn(i,"$machines",n),i=An([]),o="https://mb1-api.haelbich.org",a=!1,u=localStorage.getItem("preferredLanguage")||"en",l=An(u),c=!!localStorage.getItem("knowsHowToUseWebsite")||!1;let f;js(()=>{const _=window.location.origin;f=Qe(_),d(),c||(alert(`How do I use this website?

Specify for the corresponding washing machine how long you will use it. Provide this in hours and minutes. When you are finished with the laundry, please press the 'Done' button so that everyone knows that the washing machine is truly available again.`),localStorage.setItem("knowsHowToUseWebsite",String(!0))),f.on("machine_update",x=>{console.log("Received machine update:",x),i.update(R=>R.map(D=>D.id===x.id?{...D,...x,last_state_change:x.last_state_change||new Date().toISOString()}:D))});const h=setInterval(()=>{i.update(x=>x.map(R=>{if(R.usage_until){const D=q(R.usage_until);return{...R,timeRemaining:D}}return R}))},3e4);return()=>{f&&f.disconnect(),clearInterval(h)}}),l.subscribe(_=>{localStorage.setItem("preferredLanguage",_)});async function d(){try{const _=await fetch(o+"/machines");if(!_.ok)throw new Error("Network response was not ok");const h=await _.json();i.set(h)}catch(_){console.error("Failed to fetch machines:",_),i.set([])}}async function p(_){try{if(!(await fetch(`${o}/machines/${_.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:_.status,usage_until:_.usage_until,start_time:_.start_time,last_state_change:new Date().toISOString()})})).ok)throw new Error("Failed to update machine")}catch(h){console.error("Failed to update machine:",h)}}function k(_,h){_.status=h.target.value,p(_)}function N(_,h,x){const R=(h||0)*60+(x||0);if(h===0&&x===0||x>=60){alert(A[r()].alert);return}if(R>0){const D=new Date,ce=new Date(D.getTime()+R*6e4);_.start_time=D.toISOString(),_.usage_until=ce.toISOString(),p(_)}else alert(A[r()].alert)}function q(_){const h=new Date,R=new Date(_)-h;return Math.ceil(R/6e4)}function w(_){return new Date(_).toLocaleDateString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}function B(_){const h=_.key;!/^[0-9]$/.test(h)&&h!=="Backspace"&&h!=="Delete"&&h!=="ArrowLeft"&&h!=="ArrowRight"&&_.preventDefault()}zs();var z=Zi(),ae=g(z),M=g(ae),ye=g(M),me=g(ye),ue=T(ye,2);U(()=>{r(),re(()=>{})});var be=g(ue);be.value=(be.__value="en")==null?"":"en";var we=T(be);we.value=(we.__value="de")==null?"":"de";var Yt=T(we);Yt.value=(Yt.__value="ru")==null?"":"ru";var zt=T(M,2),Ar=g(zt),Jt=T(zt,2),Sr=g(Jt),Xt=T(Jt,2);xe(Xt,()=>a,_=>{var h=Yi(),x=vt(h),R=g(x),D=T(x,2),ce=g(D);U(()=>{O(R,`${A[r()].apiUrl??""}: ${o}`),O(ce,A[r()].devMode)}),X(_,h)});var jt=T(Xt,2);xe(jt,()=>s().length===0,_=>{var h=zi(),x=g(h);U(()=>O(x,A[r()].noMachines)),X(_,h)});var Qt=T(jt,2);Fs(Qt,5,s,_=>_.id,(_,h)=>{var x=Gi(),R=g(x),D=g(R),ce=T(R,2),Zt=g(ce),en=g(Zt),Nr=g(en),ht=T(en,2);U(()=>{m(h).status,re(()=>{r()})});var He=g(ht);He.value=(He.__value="working")==null?"":"working";var Br=g(He),dt=T(He);dt.value=(dt.__value="broken")==null?"":"broken";var Lr=g(dt),Dr=T(Zt,2);xe(Dr,()=>m(h).last_state_change,F=>{var Te=Ji(),We=g(Te);U(()=>O(We,`${A[r()].lastStateChange??""}: ${w(m(h).last_state_change)??""}`)),X(F,Te)});var tn=T(ce,2),Pr=g(tn),nn=g(Pr),qr=g(nn),rn=T(nn,2),Ee=g(rn),ke=T(Ee,2),pt=T(ke,2),Ir=g(pt),Mr=T(tn,2);xe(Mr,()=>m(h).usage_until,F=>{var Te=Qi(),We=vt(Te),Fr=g(We);xe(Fr,()=>q(m(h).usage_until)>0,_t=>{var Ae=Xi(),Ke=vt(Ae),Vr=g(Ke);U(()=>O(Vr,`${A[r()].timeRemaining??""}: ${q(m(h).usage_until)??""} minutes`));var $r=T(Ke,2),Hr=g($r);U(()=>O(Hr,`${A[r()].doneAt??""}: ${w(m(h).usage_until)??""}`)),X(_t,Ae)},_t=>{var Ae=ji(),Ke=g(Ae);U(()=>O(Ke,`${A[r()].timeElapsed??""}: ${q(m(h).usage_until)??""} minutes`)),X(_t,Ae)});var sn=T(We,2),Ur=g(sn);U(()=>O(Ur,A[r()].finished)),Se("click",sn,()=>{m(h).usage_until=null,re(()=>s()),Oe(n,"$machines"),m(h).start_time=null,re(()=>s()),Oe(n,"$machines"),p(m(h))}),X(F,Te)}),U(()=>{O(D,m(h).name),O(Nr,`${A[r()].status??""}:`),O(Br,A[r()].working),O(Lr,A[r()].broken),O(qr,`${A[r()].usageFor??""}:`),Ws(rn,"opacity-50",m(h).status==="broken"),gn(Ee,"placeholder",A[r()].hoursPlaceholder),Ee.disabled=m(h).status==="broken",gn(ke,"placeholder",A[r()].minutesPlaceholder),ke.disabled=m(h).status==="broken",pt.disabled=m(h).status==="broken",O(Ir,A[r()].setDuration)}),En(ht,()=>m(h).status,F=>(m(h).status=F,re(()=>s()),Oe(n,"$machines"))),Se("change",ht,F=>k(m(h),F)),mn(Ee,()=>m(h).hours,F=>(m(h).hours=F,re(()=>s()),Oe(n,"$machines"))),Se("keydown",Ee,B),mn(ke,()=>m(h).minutes,F=>(m(h).minutes=F,re(()=>s()),Oe(n,"$machines"))),Se("keydown",ke,B),Se("click",pt,()=>N(m(h),parseInt(m(h).hours),parseInt(m(h).minutes))),X(_,x)});var xr=T(Qt,2),Gt=g(xr),Or=g(Gt),Rr=T(Gt,4),Cr=g(Rr);U(()=>{O(me,A[r()].selectLanguage),O(Ar,A[r()].title),O(Sr,A[r()].info),O(Or,A[r()].createdBy),O(Cr,A[r()].about)}),En(ue,r,_=>fr(l,_)),X(t,z),ar()}qs(eo,{target:document.getElementById("app")});
